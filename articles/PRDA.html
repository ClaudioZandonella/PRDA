<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PRDA: Prospective and Retrospective Design Analysis • PRDA</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="PRDA: Prospective and Retrospective Design Analysis">
<meta property="og:description" content="This vignette offers a general overview of the PRDA package, introducing the concept of design analysis and providing information about the main functions in the package.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PRDA</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/PRDA.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/prospective.html">Prospective Design Analysis</a>
    </li>
    <li>
      <a href="../articles/retrospective.html">Retrospective Design Analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ClaudioZandonella/PRDA/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>PRDA: Prospective and Retrospective Design Analysis</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ClaudioZandonella/PRDA/blob/master/vignettes/PRDA.Rmd"><code>vignettes/PRDA.Rmd</code></a></small>
      <div class="hidden name"><code>PRDA.Rmd</code></div>

    </div>

    
    
<p>{PRDA} allows performing a prospective or retrospective design analysis to evaluate inferential risks (i.e., power, Type M error, and Type S error) in a study considering Pearson’s correlation between two variables or mean comparisons (one-sample, paired, two-sample, and Welch’s <em>t</em>-test).</p>
<div id="introduction-to-design-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-to-design-analysis" class="anchor"></a>Introduction to design analysis</h2>
<p>The term <em>Design Analysis</em> was introduced by <span class="citation">Gelman and Carlin (2014)</span> as a broader definition of Power Analysis. Traditional power analysis has a narrow focus on statistical significance. Design analysis, instead, evaluates together with power levels also other inferential risks (i.e., Type M error and Type S error), to assess estimates uncertainty under hypothetical replications of a study.</p>
<p>Given an <em>hypothetical effect size</em> and the study characteristics (i.e., sample size, statistical test directionality, <span class="math inline">\(\alpha\)</span> level), design analysis evaluates:</p>
<ul>
<li>
<strong>Power</strong>: the probability of the test rejecting the null hypothesis.</li>
<li>
<strong>Type M error</strong> (Magnitude): the factor by which a statistically significant effect is on average exaggerated, also known as <em>Exaggeration Ratio</em>.</li>
<li>
<strong>Type S error</strong> (Sign): the probability of finding a statistically significant result in the opposite direction to the hypothetical effect.</li>
</ul>
<p>Moreover, <span class="citation">Gelman and Carlin (2014)</span> distinguished between two types of design analysis according to the study phase:</p>
<ul>
<li>
<strong>Prospective Design Analysis</strong>: if the analysis is performed in the planning stage of a study to define the sample size needed to obtain a required level of power.</li>
<li>
<strong>Retrospective Design Analysis</strong>: if the analysis is performed in a later stage when the data have already been collected. This is still useful to evaluate the inferential risks associated with the study.</li>
</ul>
<p>It is important to do not mistake a retrospective design analysis for post-hoc power analysis. The former defines the hypothetical effect size according to previous results in the literature or experts indications, whereas the latter defines the hypothetical effect size based on the same study results and it is a widely-deprecated practice <span class="citation">(Goodman 1994; Lenth 2007; Senn 2002)</span>.</p>
<div id="enhancing-researchers-awareness" class="section level3">
<h3 class="hasAnchor">
<a href="#enhancing-researchers-awareness" class="anchor"></a>Enhancing researchers awareness</h3>
<p>Although Type M error and Type S error depend directly on power level, they underline valuable information regarding estimates uncertainty that would otherwise be overlooked. This enhances researchers awareness about the inferential risks related to their studies and helps them in the interpretation of the results.</p>
<p>Despite the lower chances, a statistically significant result could be obtained even in an underpowered study (e.g., power = 20%). This might seem a promising finding, and researchers might think that getting a statistically significant result in an underpowered study means the results must be reliable. Therefore, they would probably be even more confident in the interpretation of their results.</p>
<p>However, in this scenario statistically significant results are almost certain to be an overestimation of the population effect. As pointed out by <span class="citation">Gelman, Hill, and Vehtari (2020)</span> “a key risk for a low-power study is not so much that it has a small chance of succeeding, but rather that an apparent success merely masks a larger failure” (p.292). This is also referred as the “Winner’s curse”, indicating that the apparent win in terms of a statistically significant result is an actual loss as the obtained estimate is inflated.</p>
<p>For example, in a study considering a two-sample <em>t</em>-test with 30 participants per group, if the hypothetical population effect size is small (e.g., Cohen’s <em>d</em> of .25) the actual power is only 16%. The associated Type M error is around 2.60 and the Type S error is 0.01. That means, statistical significant results are on average an overestimation of 160% of the hypothesized population effect and there is a 1% probability of obtaining a statistically significant result in the opposite direction.</p>
<p>In this scenario, knowing the type M and S errors, researchers would be much more cautious in interpreting the results and might consider carrying out a replication study to obtain more reliable results.</p>
</div>
<div id="more-on-design-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#more-on-design-analysis" class="anchor"></a>More on design analysis</h3>
<p>To know more about design analysis consider <span class="citation">Gelman and Carlin (2014)</span>. While, for an introduction to design analysis considering examples in psychology see <span class="citation">Altoè et al. (2020)</span> and <span class="citation">Bertoldo, Zandonella Callegher, and Altoè (2020)</span>.</p>
</div>
</div>
<div id="the-package" class="section level2">
<h2 class="hasAnchor">
<a href="#the-package" class="anchor"></a>The package</h2>
<p>Given a plausible value of effect size, {PRDA} performs a prospective or retrospective design analysis to evaluate the inferential risks (i.e., power, Type M error, and Type S error) related to the study design.</p>
<p>{PRDA} package can be used for Pearson’s correlation between two variables or mean comparisons (i.e., one-sample, paired, two-sample, and Welch’s t-test) considering an hypothetical value of <span class="math inline">\(\rho\)</span> or Cohen’s <em>d</em> respectively. See <a href="retrospective.html"><code>vignette("retrospective")</code></a> and <a href="prospective.html"><code>vignette("prospective")</code></a> to know how to set function arguments for the different effect types.</p>
<div id="install" class="section level3">
<h3 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h3>
<p>To install the github version type in R:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># If devtools is not installed yet: </span>
<span class="co"># install.packages( "devtools" )  </span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"CaludioZandonella/PRDA"</span>,
                         build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://claudiozandonella.github.io/PRDA/">PRDA</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="functions" class="section level3">
<h3 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h3>
<p>In {PRDA} there are two main functions:</p>
<ul>
<li><p><strong><code><a href="../reference/retrospective.html">retrospective()</a></code></strong>. Given the hypothetical population effect size and the study sample size, the function <code><a href="../reference/retrospective.html">retrospective()</a></code> performs a retrospective design analysis. According to the defined alternative hypothesis and the significance level, the inferential risks (i.e., Power level, Type M error, and Type S error) are computed together with the critical effect value (i.e., the minimum absolute effect size value that would result significant). To know more about function arguments and examples see the function documentation <code><a href="../reference/retrospective.html">?retrospective</a></code> and <a href="retrospective.html"><code>vignette("retrospective")</code></a>.</p></li>
<li><p><strong><code><a href="../reference/prospective.html">prospective()</a></code></strong>. Given the hypothetical population effect size and the required power level, the function <code><a href="../reference/prospective.html">prospective()</a></code> performs a prospective design analysis. According to the defined alternative hypothesis and the significance level, the required sample size is computed together with the associated Type M error, Type S error, and the critical effect value (i.e., the minimum absolute effect size value that would result significant). To know more about function arguments and examples see the function documentation <code><a href="../reference/prospective.html">?prospective</a></code> and <a href="prospective.html"><code>vignette("prospective")</code></a>.</p></li>
</ul>
</div>
<div id="hypothetical-effect-size" class="section level3">
<h3 class="hasAnchor">
<a href="#hypothetical-effect-size" class="anchor"></a>Hypothetical effect size</h3>
<p>The hypothetical population effect size can be defined as a single value according to previous results in the literature or experts indications. Alternatively, {PRDA} allows users to specify a distribution of plausible values to account for their uncertainty about the hypothetical population effect size. To know how to specify the hypothetical effect size according to a distribution and an example of application see <a href="retrospective.html"><code>vignette("retrospective")</code></a>.</p>
</div>
</div>
<div id="case-study" class="section level2">
<h2 class="hasAnchor">
<a href="#case-study" class="anchor"></a>Case study</h2>
<p><span class="citation">Eisenberger, Lieberman, and Williams (2003)</span> claimed that social and physical pain seem to share similar neural underpinnings. Their experiment included 13 participants, and they found a statistically significant correlation between perceived distress due to social exclusion and activity in the brain area associated with physical pain. However, the magnitude of the estimated correlation (<span class="math inline">\(r = .88\)</span>) is beyond what could be considered plausible. In this field correlations are likely to be around <span class="math inline">\(\rho = .25\)</span> <span class="citation">(for a complete discussion see Bertoldo, Zandonella Callegher, and Altoè 2020)</span>.</p>
<div id="retrospective-design-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#retrospective-design-analysis" class="anchor"></a>Retrospective design analysis</h3>
<p>The function <code><a href="../reference/retrospective.html">retrospective()</a></code> can be used to evaluate the inferential risks associated with the study.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">2020</span><span class="op">)</span> <span class="co"># set seed to make results reproducible</span>

<span class="fu"><a href="../reference/retrospective.html">retrospective</a></span><span class="op">(</span>effect_size <span class="op">=</span> <span class="fl">.25</span>, sample_n1 <span class="op">=</span> <span class="fl">13</span>, test_method <span class="op">=</span> <span class="st">"pearson"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Design Analysis</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Hypothesized effect:  rho = 0.25 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Study characteristics:</span>
<span class="co">#&gt;    test_method   sample_n1   sample_n2   alternative   sig_level   df</span>
<span class="co">#&gt;    pearson       13          NULL        two_sided     0.05        11</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Inferential risks:</span>
<span class="co">#&gt;    power   typeM   typeS</span>
<span class="co">#&gt;    0.127   2.583   0.028</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Critical value(s): rho  =  ± 0.553</span></code></pre></div>
<p>In the output, we have the summary information about the hypothesized population effect, the study characteristics, and the inferential risks. We obtained a statistical power of almost 13% that is associated with a Type M error of around 2.6 and a Type S error of 0.03. That means, statistical significant results are on average an overestimation of 160% of the hypothesized population effect and there is a 3% probability of obtaining a statistically significant result in the opposite direction.</p>
<p>To know more about function arguments and examples see the function documentation <code><a href="../reference/retrospective.html">?retrospective</a></code> and <a href="retrospective.html"><code>vignette("retrospective")</code></a>.</p>
</div>
<div id="prospective-design-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#prospective-design-analysis" class="anchor"></a>Prospective design analysis</h3>
<p>Considering the previous results, researchers might consider planning a replication study to obtain more reliable results. The function <code><a href="../reference/prospective.html">prospective()</a></code> can be used to compute the sample size needed to obtain a required level of power (e.g., power = 80%).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/prospective.html">prospective</a></span><span class="op">(</span>effect_size <span class="op">=</span> <span class="fl">.25</span>, power <span class="op">=</span> <span class="fl">.8</span>, test_method <span class="op">=</span> <span class="st">"pearson"</span>, 
            display_message <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;  Design Analysis</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Hypothesized effect:  rho = 0.25 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Study characteristics:</span>
<span class="co">#&gt;    test_method   sample_n1   sample_n2   alternative   sig_level   df </span>
<span class="co">#&gt;    pearson       126         NULL        two_sided     0.05        124</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Inferential risks:</span>
<span class="co">#&gt;    power   typeM   typeS</span>
<span class="co">#&gt;    0.807   1.111   0    </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Critical value(s): rho  =  ± 0.175</span></code></pre></div>
<p>In the output, we have again the summary information about the hypothesized population effect, the study characteristics, and the inferential risks. To obtain a power of around 80% the required sample size is <span class="math inline">\(n = 126\)</span>, the associated Type M error is around 1.10 and the Type S error is approximately 0.</p>
<p>To know more about function arguments and examples see the function documentation <code><a href="../reference/prospective.html">?prospective</a></code> and <a href="prospective.html"><code>vignette("prospective")</code></a>.</p>
</div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-altoeEnhancingStatisticalInference2020">
<p>Altoè, Gianmarco, Giulia Bertoldo, Claudio Zandonella Callegher, Enrico Toffalini, Antonio Calcagnì, Livio Finos, and Massimiliano Pastore. 2020. “Enhancing Statistical Inference in Psychological Research via Prospective and Retrospective Design Analysis.” <em>Frontiers in Psychology</em> 10. <a href="https://doi.org/10.3389/fpsyg.2019.02893">https://doi.org/10.3389/fpsyg.2019.02893</a>.</p>
</div>
<div id="ref-bertoldoDesigningStudiesEvaluating2020">
<p>Bertoldo, Giulia, Claudio Zandonella Callegher, and Gianmarco Altoè. 2020. “Designing Studies and Evaluating Research Results: Type M and Type S Errors for Pearson Correlation Coefficient.” Preprint. PsyArXiv. <a href="https://doi.org/10.31234/osf.io/q9f86">https://doi.org/10.31234/osf.io/q9f86</a>.</p>
</div>
<div id="ref-eisenbergerDoesRejectionHurt2003">
<p>Eisenberger, Naomi I., Matthew D. Lieberman, and Kipling D. Williams. 2003. “Does Rejection Hurt? An fMRI Study of Social Exclusion.” <em>Science</em> 302 (5643): 290–92. <a href="https://doi.org/10.1126/science.1089134">https://doi.org/10.1126/science.1089134</a>.</p>
</div>
<div id="ref-gelmanPowerCalculationsAssessing2014">
<p>Gelman, Andrew, and John Carlin. 2014. “Beyond Power Calculations: Assessing Type S (Sign) and Type M (Magnitude) Errors.” <em>Perspectives on Psychological Science</em> 9 (6): 641–51. <a href="https://doi.org/10.1177/1745691614551642">https://doi.org/10.1177/1745691614551642</a>.</p>
</div>
<div id="ref-gelman_hill_vehtari_2020">
<p>Gelman, Andrew, Jennifer Hill, and Aki Vehtari. 2020. <em>Regression and Other Stories</em>. Analytical Methods for Social Research. Cambridge: Cambridge University Press.</p>
</div>
<div id="ref-goodmanUsePredictedConfidence1994">
<p>Goodman, Steven N. 1994. “The Use of Predicted Confidence Intervals When Planning Experiments and the Misuse of Power When Interpreting Results.” <em>Annals of Internal Medicine</em> 121 (3): 200. <a href="https://doi.org/10.7326/0003-4819-121-3-199408010-00008">https://doi.org/10.7326/0003-4819-121-3-199408010-00008</a>.</p>
</div>
<div id="ref-lenthStatisticalPowerCalculations12007">
<p>Lenth, R. V. 2007. “Statistical Power Calculations1.” <em>Journal of Animal Science</em> 85 (suppl_13): E24–E29. <a href="https://doi.org/10.2527/jas.2006-449">https://doi.org/10.2527/jas.2006-449</a>.</p>
</div>
<div id="ref-Senn1304">
<p>Senn, Stephen J. 2002. “Power Is Indeed Irrelevant in Interpreting Completed Studies.” <em>BMJ: British Medical Journal</em> 325 (7375): 1304. <a href="https://doi.org/10.1136/bmj.325.7375.1304">https://doi.org/10.1136/bmj.325.7375.1304</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Claudio Zandonella Callegher, Massimiliano Pastore, Angela Andreella, Anna Vesely, Enrico Toffalini, Giulia Bertoldo, Gianmarco Altoè.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
